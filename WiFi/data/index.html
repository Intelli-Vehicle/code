<!-- Author Yuntao Xie -->
<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">

    <title>IntelliV|Status Page</title>
    <style>

#con{
    display: flex;
    justify-content:center;
    align-items:Center;
}
#dash{
  width:100%;
  max-width: 650px;
  margin: 10px;
}
#rtlog{
  width:100%;
  max-height:300px;
  overflow: scroll;
}
#control{
  width:100%;
  height:200px;
  overflow	: hidden;
	padding		: 0;
	margin		: 0;
	-webkit-user-select	: none;
	-moz-user-select	: none;
}
    </style>
  </head>
  <body>
    <div id="con">
    <div class="card text-center" id="dash">
        <div class="card-header">
          IntelliV Dashboard
        </div>
        <div class="card-body">
            <svg t="1623069077044" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1739" width="200" height="200"><path d="M286.6688 450.56h446.0032l-39.2704-174.2336H328.96z" fill="#CAE2FF" p-id="1740"></path><path d="M732.672 481.28H286.6688a30.72 30.72 0 0 1-24.1664-11.7248 30.6432 30.6432 0 0 1-5.6832-26.2656l42.2912-174.2848a30.67904 30.67904 0 0 1 29.8496-23.4496h364.4416c14.3872 0 26.8288 9.9328 29.952 23.9616l39.2704 174.2848a30.7712 30.7712 0 0 1-5.9904 25.9584A30.592 30.592 0 0 1 732.672 481.28zM325.7344 419.84h368.5376l-25.4464-112.8448H353.1264L325.7344 419.84z" fill="#5866D2" p-id="1741"></path><path d="M255.232 650.0352m-49.7664 0a49.7664 49.7664 0 1 0 99.5328 0 49.7664 49.7664 0 1 0-99.5328 0Z" fill="#5866D2" p-id="1742"></path><path d="M766.9248 650.0352m-49.7664 0a49.7664 49.7664 0 1 0 99.5328 0 49.7664 49.7664 0 1 0-99.5328 0Z" fill="#5866D2" p-id="1743"></path><path d="M806.1952 916.5824c-42.8544 0-79.36-27.9552-92.1088-66.6112H312.5248c-12.8 38.656-49.2544 66.6112-92.1088 66.6112-51.3024 0-93.3888-40.0384-96.768-90.4704-58.4704-35.6352-90.368-104.7552-78.7456-175.2576l16.128-97.7408c7.1168-42.9056 36.1472-78.6944 74.8032-94.4128l48.384-230.7584c13.824-65.8944 72.7552-113.7664 140.0832-113.7664h371.7632c67.1232 0 126.0032 47.616 139.9808 113.2544l48.7424 228.5056c42.1888 13.8752 74.752 51.2 82.3296 97.1264l16.128 97.7408c11.8272 71.4752-20.7872 141.056-80.4352 176.3328-3.7888 49.9712-45.6704 89.4464-96.6144 89.4464z m-35.5328-96.512a35.55328 35.55328 0 0 0 35.5328 35.072c19.6096 0 35.5328-15.9744 35.5328-35.5328 0-1.6896-0.2048-3.584-0.5632-5.8368a30.66368 30.66368 0 0 1 18.2272-33.2288c44.9536-19.2512 71.5264-69.5296 63.2832-119.6032L906.5472 563.2c-4.4544-26.9312-25.6-47.9744-51.4048-51.0976a30.70464 30.70464 0 0 1-26.3168-24.064l-52.8384-247.6544c-7.9872-37.4784-41.5744-64.6656-79.872-64.6656H324.352c-38.4512 0-72.0384 27.2896-79.9744 64.9216L192.3072 488.96a30.65856 30.65856 0 0 1-23.808 23.7568c-23.808 4.9152-42.5984 25.1904-46.7968 50.3808l-16.128 97.7408c-8.2944 50.2272 17.2544 99.2256 62.1568 119.0912a30.71488 30.71488 0 0 1 17.8176 33.3824c-0.4096 2.3552-0.6144 4.352-0.6144 6.2464 0 19.6096 15.9744 35.5328 35.5328 35.5328 19.456 0 35.2768-15.6672 35.5328-35.072V819.2c0-16.9472 13.7728-30.72 30.72-30.72h453.2736c16.9472 0 30.72 13.7728 30.72 30.72-0.0512 0.3072-0.0512 0.5632-0.0512 0.8704z" fill="#5866D2" p-id="1744"></path></svg>
          <h5 class="card-title" id="status">Hello! </h5>
          <hr class="my-4">
          <div class="row">
            <div class="col-sm">
              <div>UltraSound Status: <span id="UltraStatus">Off</span></div>
              <svg t="1623134513438" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5236" width="64" height="64"><path d="M783.785521 291.473421c-35.415604-79.289857-86.537935-146.097426-147.19441-198.158129l-0.527003 0.572028c-4.092201-2.879584-8.80248-4.962012-14.198374-4.962012-13.833053 0-25.057699 11.226692-25.057699 25.058722 0 6.080485 2.446725 11.476379 6.060019 15.821337l-0.297782 0.319272c0.434905 0.366344 0.870834 0.777713 1.302669 1.165546 0.319272 0.342808 0.686638 0.594541 1.028423 0.914836 55.262628 47.213301 101.880365 107.757213 134.095068 179.845041 96.553033 216.150922 31.939433 459.749986-142.188396 579.462484l0.046049 0.046049c-4.732791 4.526083-7.728008 10.791787-7.728008 17.878183 0 13.719466 11.133571 24.830525 24.853038 24.830525 6.15007 0 11.589966-2.468215 15.934924-6.172583l0.618077 0.686638C819.977815 795.714713 889.711016 528.612353 783.785521 291.473421zM240.824369 454.946586c-31.276331 0-56.655348 25.332968-56.655348 56.655348 0 31.277354 25.377994 56.655348 56.655348 56.655348 31.299867 0 56.656371-25.377994 56.656371-56.655348C297.48074 480.279554 272.124236 454.946586 240.824369 454.946586zM464.862935 245.517763l-0.045025 0c-4.665253-5.762237-11.867282-9.785877-20.395516-9.785877-14.174837 0-25.65224 10.334369-25.65224 23.137976 0 4.389984 1.714038 8.230452 4.068665 11.750625l0 0.549515c27.299763 27.024493 47.077202 56.609299 64.521502 91.180676 65.664535 130.137942 36.033681 277.836843-62.052265 389.741515l0.159636 0.138146c-3.634784 3.749394-6.034437 8.504698-6.034437 13.854543 0 11.796674 10.608615 21.400403 23.685445 21.400403 6.446829 0 12.255115-2.37714 16.506952-6.127558l0.252757 0.229221c114.225531-124.480083 149.778258-291.794739 75.632561-438.714903C517.196861 306.60812 493.053997 274.278807 464.862935 245.517763z" p-id="5237" fill="#bfbfbf"></path></svg>
              
            </div>
            <div class="col-sm">
              <div>Magnet Status: <span id="MagStatus">Off</span></div>
              
              <svg t="1623134182668" class="icon" viewBox="0 0 1048 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2670" width="64" height="64"><path d="M435.151238 33.938286L112.39619 356.59581c-147.382857 147.358476-145.017905 391.484952 3.462096 539.964952 148.48 148.48 392.606476 150.820571 539.940571 3.462095l322.706286-322.706286a30.47619 30.47619 0 0 0 0-43.105523l-156.793905-156.818286a30.47619 30.47619 0 0 0-43.105524 0L455.899429 700.099048c-36.742095 36.790857-101.546667 35.108571-140.092953-3.462096-38.521905-38.521905-40.228571-103.375238-3.486476-140.117333L635.050667 233.837714a30.47619 30.47619 0 0 0 0-43.105524l-156.818286-156.793904a30.47619 30.47619 0 0 0-43.081143 0z m21.528381 64.633904l113.712762 113.712762-301.177905 301.153524c-61.049905 61.074286-58.368 164.449524 3.486476 226.304l4.486096 4.315429c62.268952 57.660952 162.206476 58.806857 221.817904-0.853334L800.182857 442.026667l113.688381 113.712762-301.129143 301.177904c-123.367619 123.367619-328.874667 121.417143-453.729524-3.462095-124.879238-124.854857-126.854095-330.361905-3.462095-453.729524L456.655238 98.54781z" fill="#bfbfbf" p-id="2671"></path><path d="M387.657143 225.084952l104.984381 104.984381-43.105524 43.105524L344.551619 268.190476zM731.526095 568.978286l104.204191 104.20419-43.105524 43.105524-104.204191-104.228571zM974.189714 31.963429a30.47619 30.47619 0 0 1 52.540953 30.72l-1.682286 2.876952-157.257143 238.055619-45.860571-112.810667-102.473143 140.068572a30.47619 30.47619 0 0 1-39.814095 8.435809l-2.779429-1.828571a30.47619 30.47619 0 0 1-8.411429-39.814095l1.804191-2.779429 167.009524-228.230095 43.422476 106.837333 93.500952-141.531428z" fill="#bfbfbf" p-id="2672"></path></svg>
             
            </div>
          
          </div>
          <hr class="my-4">
          <svg t="1623134730347" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6729" width="48" height="48"><path d="M194.939319 253.228375c-15.054881 0-27.2619-12.20702-27.2619-27.262924L167.677419 48.762587c0-15.054881 12.20702-27.2619 27.2619-27.2619 15.055904 0 27.2619 12.20702 27.2619 27.2619l0 177.202864C222.20122 241.021356 209.9942 253.228375 194.939319 253.228375z" p-id="6730" fill="#1296db"></path><path d="M194.939319 921.149541c-15.054881 0-27.2619-12.208043-27.2619-27.262924L167.677419 471.325625c0-15.055904 12.20702-27.262924 27.2619-27.262924 15.055904 0 27.2619 12.20702 27.2619 27.262924l0 422.562015C222.20122 908.941498 209.9942 921.149541 194.939319 921.149541z" p-id="6731" fill="#1296db"></path><path d="M189.747063 497.322719c-77.207429 0-140.010801-62.804395-140.010801-140.010801s62.804395-140.010801 140.010801-140.010801 140.010801 62.804395 140.010801 140.010801S266.954493 497.322719 189.747063 497.322719zM189.747063 271.824919c-47.13553 0-85.487 38.350446-85.487 85.487 0 47.13553 38.350446 85.487 85.487 85.487 47.136553 0 85.487-38.35147 85.487-85.487C275.234063 310.175365 236.883617 271.824919 189.747063 271.824919z" p-id="6732" fill="#1296db"></path><path d="M215.106638 325.33667c-0.865717 0-1.757017-0.079818-2.636037-0.252757l-3.794419-0.74599c-7.388271-1.451048-12.20702-8.626471-10.755971-16.000416 1.451048-7.388271 8.598842-12.220323 16.000416-10.755971l3.793396 0.74599c7.388271 1.451048 12.20702 8.625448 10.755971 16.000416C227.192907 320.838216 221.495138 325.33667 215.106638 325.33667z" p-id="6733" fill="#1296db"></path><path d="M143.010623 384.573819c-7.534604 0-13.630439-6.096858-13.630439-13.631462 0-26.436092 14.270005-51.062979 37.231973-64.241117 6.535857-3.740184 14.868639-1.50426 18.609847 5.031597 3.753487 6.535857 1.490957 14.869662-5.031597 18.609847-14.522762 8.332782-23.548322 23.8942-23.548322 40.599673C156.642085 378.476961 150.545226 384.573819 143.010623 384.573819z" p-id="6734" fill="#1296db"></path><path d="M494.822271 498.587526c-15.054881 0-27.2619-12.20702-27.2619-27.2619L467.56037 48.762587c0-15.054881 12.20702-27.2619 27.2619-27.2619 15.055904 0 27.2619 12.20702 27.2619 27.2619l0 422.562015C522.083148 486.380506 509.878175 498.587526 494.822271 498.587526z" p-id="6735" fill="#1296db"></path><path d="M494.822271 921.149541c-15.054881 0-27.2619-12.208043-27.2619-27.262924L467.56037 716.684776c0-15.055904 12.20702-27.262924 27.2619-27.262924 15.055904 0 27.2619 12.20702 27.2619 27.262924l0 177.202864C522.083148 908.941498 509.878175 921.149541 494.822271 921.149541z" p-id="6736" fill="#1296db"></path><path d="M489.630015 742.680846c-77.207429 0-140.010801-62.803371-140.010801-140.010801 0-77.206406 62.804395-140.010801 140.010801-140.010801 77.206406 0 140.010801 62.804395 140.010801 140.010801C629.641839 679.877475 566.837444 742.680846 489.630015 742.680846zM489.630015 517.183046c-47.136553 0-85.487 38.350446-85.487 85.487s38.350446 85.488023 85.487 85.488023c47.13553 0 85.487-38.352493 85.487-85.488023S536.766568 517.183046 489.630015 517.183046z" p-id="6737" fill="#1296db"></path><path d="M514.988566 570.69582c-0.865717 0-1.757017-0.079818-2.635013-0.251733l-3.794419-0.74599c-7.387247-1.451048-12.205996-8.626471-10.754948-16.001439 1.451048-7.40055 8.612145-12.246929 16.000416-10.755971l3.794419 0.74599c7.387247 1.451048 12.205996 8.625448 10.754948 16.000416C527.075859 566.196343 521.37809 570.69582 514.988566 570.69582z" p-id="6738" fill="#1296db"></path><path d="M442.893574 629.931946c-7.534604 0-13.631462-6.096858-13.631462-13.630439 0-26.437116 14.270005-51.062979 37.231973-64.241117 6.54916-3.75451 14.869662-1.505283 18.609847 5.031597 3.753487 6.535857 1.490957 14.868639-5.031597 18.609847-14.522762 8.333806-23.548322 23.895223-23.548322 40.600697C456.524013 623.835088 450.427154 629.931946 442.893574 629.931946z" p-id="6739" fill="#1296db"></path><path d="M808.33566 157.811212c-15.054881 0-27.2619-12.20702-27.2619-27.262924L781.07376 48.762587c0-15.054881 12.20702-27.2619 27.2619-27.2619 15.055904 0 27.262924 12.20702 27.262924 27.2619l0 81.785701C835.597561 145.604192 823.391565 157.811212 808.33566 157.811212z" p-id="6740" fill="#1296db"></path><path d="M808.33566 921.149541c-15.054881 0-27.2619-12.208043-27.2619-27.262924L781.07376 375.907439c0-15.055904 12.20702-27.262924 27.2619-27.262924 15.055904 0 27.262924 12.20702 27.262924 27.262924l0 517.979178C835.597561 908.941498 823.391565 921.149541 808.33566 921.149541z" p-id="6741" fill="#1296db"></path><path d="M803.145451 401.905556c-77.207429 0-140.010801-62.804395-140.010801-140.010801S725.936999 121.882931 803.145451 121.882931c77.206406 0 140.010801 62.804395 140.010801 140.010801S880.351857 401.905556 803.145451 401.905556zM803.145451 176.406732c-47.136553 0-85.488023 38.35147-85.488023 85.487s38.35147 85.487 85.488023 85.487c47.13553 0 85.485977-38.35147 85.485977-85.487S850.280981 176.406732 803.145451 176.406732z" p-id="6742" fill="#1296db"></path><path d="M828.502979 229.919507c-0.865717 0-1.75804-0.079818-2.635013-0.252757l-3.794419-0.74599c-7.388271-1.451048-12.20702-8.626471-10.755971-16.000416 1.451048-7.388271 8.612145-12.220323 16.001439-10.755971l3.793396 0.74599c7.388271 1.451048 12.20702 8.625448 10.755971 16.000416C840.589248 225.420029 834.892503 229.919507 828.502979 229.919507z" p-id="6743" fill="#1296db"></path><path d="M756.407987 289.156656c-7.53358 0-13.631462-6.096858-13.631462-13.631462 0-26.436092 14.270005-51.062979 37.232996-64.241117 6.535857-3.726881 14.856359-1.490957 18.609847 5.031597 3.753487 6.535857 1.490957 14.868639-5.031597 18.609847-14.522762 8.332782-23.548322 23.8942-23.548322 40.599673C770.038426 283.059797 763.941568 289.156656 756.407987 289.156656z" p-id="6744" fill="#1296db"></path></svg>
          <br>
            <div class="btn-group btn-group-toggle" data-toggle="buttons">
            <label class="btn btn-primary active">
              <input type="radio" name="options" id="option1" checked onchange="changeMode(1)"> Mode 1
            </label>
            <label class="btn btn-primary">
              <input type="radio" name="options" id="option2" onchange="changeMode(2)"> Mode 2
            </label>
            <label class="btn btn-primary">
              <input type="radio" name="options" id="option3" onchange="changeMode(3)"> Mode 3
            </label>
          </div>
          
          <hr class="my-4">
          Motor Speed
          <br>
          <svg t="1623139233069" class="icon" viewBox="0 0 1031 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2014" width="64" height="64"><path d="M514.60052 137C229.50052 137.5-0.39948 368.2 0.00052 653.3 0.10052 729.2 16.60052 801.2 46.20052 866c8.5 18.7 18.2 36.9 28.8 54.3 2.9 4.8 8.1 7.7 13.7 7.7h853.7c5.6 0 10.8-2.9 13.7-7.7 10.6-17.5 20.3-35.6 28.8-54.3 29.6-65 46.2-137.4 46.2-213.5-0.1-285-231.4-516-516.5-515.5z m416.9 691.2c-5.5 12.9-11.5 25.5-18.1 37.8H117.50052c-6.6-12.3-12.6-24.9-18.1-37.8C75.90052 772.6 64.00052 713.5 64.00052 652.5c0-61 11.9-120.1 35.5-175.7 22.7-53.8 55.3-102 96.8-143.5s89.8-74 143.5-96.8C395.40052 213 454.50052 201 515.50052 201s120.1 11.9 175.7 35.5c53.8 22.7 102.1 55.3 143.5 96.8 41.5 41.5 74 89.8 96.8 143.5C955.00052 532.4 967.00052 591.5 967.00052 652.5c0 61-11.9 120.1-35.5 175.7z" p-id="2015" fill="#d81e06"></path><path d="M623.90052 507.6c-76.2 163.5-100.7 191.2-103.3 193.8-12.1 12.1-28.2 18.7-45.3 18.7s-33.2-6.7-45.3-18.7c-25-25-25-65.6 0-90.5 2.7-2.5 30.4-27.1 193.9-103.3z m0.3-64.2c-8.9 0-18.2 1.9-27.4 6.2-88 41-186 90-212 116-50 50-50 131 0 181 25 25 57.8 37.5 90.5 37.5s65.5-12.5 90.5-37.5c26-26 75-124 116-212 21-44.9-14.1-91.2-57.6-91.2z" p-id="2016" fill="#d81e06"></path><path d="M514.90052 257c-219.1 0.3-398.5 182.2-395.9 401.3 0.3 29.2 3.9 57.7 10.2 85.1 3.3 14.4 16.3 24.6 31.1 24.6 20.6 0 35.8-19.1 31.2-39.2-5.7-24.5-8.5-49.7-8.5-75.3 0-44.9 8.8-88.5 26.1-129.4 16.8-39.6 40.7-75.2 71.3-105.7 30.5-30.6 66.1-54.5 105.7-71.3 41-17.3 84.5-26.1 129.4-26.1s88.5 8.8 129.4 26.1c39.6 16.8 75.2 40.7 105.7 71.3 30.6 30.5 54.5 66.1 71.3 105.7 17.3 41 26.1 84.5 26.1 129.4 0 25.6-2.9 50.8-8.5 75.3-4.6 20 10.6 39.2 31.2 39.2 14.9 0 27.8-10.3 31.2-24.8 6.7-28.8 10.2-58.8 10.2-89.7C912.00052 434.3 734.20052 256.7 514.90052 257z" p-id="2017" fill="#d81e06"></path></svg>
          <br>
          Left
          <div class="progress">
            <div id="LeftMotor" class="progress-bar" role="progressbar" style="width: 25%;" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100">N/A</div>
          </div>
          Right
          <div class="progress">
            <div id="RightMotor" class="progress-bar" role="progressbar" style="width: 25%;" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100">N/A</div>
          </div>
          
        
          <p class="card-text">
            <ul class="list-group list-group-flush" id="rtlog">
              <!--<li class="list-group-item">Real time Log Started...</li>-->


            </ul>

          </p>
          
        </div>
        <div class="card-footer text-muted">
          Powered By Yuntao Xie
        </div>
      </div>
    </div>
    
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="js/jquery-3.4.1.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script type="text/javascript">
    function getTime(){
      return new Date().toTimeString().substr(0,8)
    }
    function addLog(msg,type){
     
      $("#rtlog").append(`<div class="d-flex w-100 justify-content-between list-group-item list-group-item-`+type+`">
                <li>`+msg+`</li>
                <li>`+getTime()+`</li>
              </div>`)      
    }
    function getStatus(){
      htmlobj=$.ajax({url:"http://192.168.1.1/status",async:false,error:function(){
          addLog("Get Intelli-Vehicle Status Failed! Retry after 10s.","danger")
          setTimeout(function(){getStatus()},10000)            
        }});
        $("#status").html(htmlobj.responseText);
    }
    function getSerial(){
      htmlobj=$.ajax({url:"/serial",async:false,error:function(){
          addLog("Get serial infomation Failed!","danger")          
        },success:function(){
          addLog(htmlobj.responseText)
        }
      });
        
    }
    function changeMode(mode){
      addLog("Change to Mode "+mode+"...")
      htmlobj=$.ajax({url:"http://192.168.1.1/changeMode?mode="+mode,async:false,error:function(){
          addLog("Change Mode Failed! Please Retry.","danger")         
        },success:function(){
          addLog(htmlobj.responseText)
          getStatus()
        }
      });
    }
    function getModule(){
      addLog("Checking Module Status")
      htmlobj=$.ajax({url:"http://192.168.1.1/getModule",async:false,error:function(){
          addLog("Checking Intelli-Vehicle Module Status Failed! Retry after 10s.","danger")         
        },success:function(){
          addLog(htmlobj.responseText)
        }
      });
    }
      $(document).ready(function(){
        
        var setuptime = new Date().toTimeString().substr(0,8);
        addLog("Real time Log Started...")
        addLog("Get Intelli-Vehicle Status")
        getStatus() 
        getModule()
        //setInterval(function(){getSerial()},5000) 

      });

      



      </script>
  </body>
</html>